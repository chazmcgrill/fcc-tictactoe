function gameInit(){board=[0,1,2,3,4,5,6,7,8],$("button").css("display","none"),$(".square").text(""),gameStatus(""),gameOver=!1}function squareClick(e){"number"!=typeof board[e]||gameOver||(updateBoard(humanToken,e,"human"),drawCheck()||gameOver||updateBoard(aiToken,minimax(board,aiToken,1).index,"ai"))}function updateBoard(e,a,n){$("#"+a).text(e),board[a]=e,winCheck(board,e)&&(gameStatus("human"===n?"You Win!":"You Lose!"),$("button").css("display","inline-block"),gameOver=!0)}function gameStatus(e){$(".status").text(e)}function winCheck(e,a){for(var n=0;n<8;n++)for(var t=0;t<3&&e[termStates[n][t]]===a;t++)if(2===t)return!0}function drawCheck(){if(!availableMoves(board).length)return gameStatus("It's A Draw!"),$("button").css("display","inline-block"),!0}function availableMoves(e){for(var a=[],n=0;n<e.length;n++)"number"==typeof e[n]&&a.push(e[n]);return a}function minimax(e,a,n){var t=availableMoves(e),i=-1/0,o=1/0,r=[],u;if(winCheck(e,humanToken))return{value:n-10};if(winCheck(e,aiToken))return{value:10-n};if(!t.length)return{value:0};for(var l=0;l<t.length;l++){var s={},c;s.index=e[t[l]],e[t[l]]=a,a===aiToken?(c=minimax(e,humanToken,n+1),s.value=c.value):(c=minimax(e,aiToken,n+1),s.value=c.value),e[t[l]]=s.index,r.push(s)}if(a===aiToken)for(var m=0;m<r.length;m++)r[m].value>i&&(i=r[m].value,u=m);else for(var v=0;v<r.length;v++)r[v].value<o&&(o=r[v].value,u=v);return r[u]}var gameOver=!1,humanToken="O",aiToken="X",board;const termStates=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];$(".chooser-button").click(function(e){humanToken=e.target.id,aiToken="X"===humanToken?"O":"X",$(".chooser").addClass("handle"),gameInit()}),$(".square").click(function(e){squareClick(e.target.id)}),$(".reset").click(function(){gameInit()});