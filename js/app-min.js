$(document).ready(function(){function e(){if(null!==f){var e=c(u,!0);console.log("fc = "+fc),console.log(e),r("X",e.index,!0)}}function r(e,r,i){$("#"+r).text(e),u[r]=e,t(e,u)?n(e,"Wins!"):o(u)?n("It's a","Draw!"):f=i}function n(e,r){$(".status").text(e+" "+r),f=null}function t(e,r){for(var n=0;n<8;n++)for(var t=0;t<3&&r[s[n][t]]===e;t++)if(2===t)return!0}function o(e){for(var r=0;r<9;r++)if(0===e[r])return!1;return!0}function i(){$(".square").text(""),$(".status").text(""),$(".square").each(function(){item=$(this).attr("id"),u[item]=0}),f=!0}function c(e,r){if(fc++,t(aiToken,e))return{score:10};if(t(humanToken,e))return{score:-10};if(o(e))return{score:0};for(var n=[],i=0;i<9;i++)if(0===e[i]){var a={};if(tempBoard=e.slice(),a.index=i,tempBoard[i]=r,r===aiToken){var f=c(tempBoard,humanToken);a.score=f.score}else{var f=c(tempBoard,aiToken);a.score=f.score}n.push(a)}console.log(n);var s;if(r===aiToken)for(var u=-1/0,i=0;i<n.length;i++)n[i].score>u&&(u=n[i].score,s=i);else for(var u=1/0,i=0;i<n.length;i++)n[i].score<u&&(u=n[i].score,s=i);return n[s]}var a=[],f=!0,s=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]],u=[0,0,0,0,0,0,0,0,0];humanToken="O",aiToken="X",fc=0,$(".square").each(function(){$(this).click(function(){var n=$(this).text();if(f&&"X"!==n&&"O"!==n){r("O",$(this).attr("id"),!1),e()}})}),$(".reset").click(function(){i()})});