function gameInit(){board=[0,1,2,3,4,5,6,7,8],$("button").css("display","none"),$(".square").text(""),gameStatus(""),gameOver=!1}function squareClick(e){"number"!=typeof board[e]||gameOver||(updateBoard(humanToken,e,"human"),drawCheck()||gameOver||updateBoard(aiToken,aiMove(),"ai"))}function updateBoard(e,a,n){$("#"+a).text(e),board[a]=e,winCheck(board,e)&&(gameStatus("human"===n?"You Win!":"You Lose!"),$("button").css("display","inline-block"),gameOver=!0)}function gameStatus(e){$(".status").text(e)}function winCheck(e,a){for(var n=0;n<8;n++)for(var o=0;o<3&&e[termStates[n][o]]===a;o++)if(2===o)return!0}function drawCheck(){if(!availableMoves(board).length)return gameStatus("It's A Draw!"),$("button").css("display","inline-block"),!0}function availableMoves(e){for(var a=[],n=0;n<e.length;n++)"number"==typeof e[n]&&a.push(e[n]);return a}function aiMove(){return minimax(board,aiToken).index}function minimax(e,a){var n=availableMoves(e);if(winCheck(e,humanToken))return{score:-10};if(winCheck(e,aiToken))return{score:10};if(!n.length)return{score:0};for(var o=[],r=0;r<n.length;r++){var t={};t.index=e[n[r]],e[n[r]]=a;var i;a===aiToken?(i=minimax(e,humanToken),t.score=i.score):(i=minimax(e,aiToken),t.score=i.score),e[n[r]]=t.index,o.push(t)}var u,s;if(a===aiToken){s=-1/0;for(var c=0;c<o.length;c++)o[c].score>s&&(s=o[c].score,u=c)}else{s=1/0;for(var m=0;m<o.length;m++)o[m].score<s&&(s=o[m].score,u=m)}return o[u]}var gameOver=!1,humanToken="O",aiToken="X",board;const termStates=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];$(".chooser-button").click(function(e){humanToken=e.target.id,aiToken="X"===humanToken?"O":"X",$(".chooser").addClass("handle"),gameInit()}),$(".square").click(function(e){squareClick(e.target.id)});